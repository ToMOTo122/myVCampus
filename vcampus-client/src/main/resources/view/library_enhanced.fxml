<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<VBox fx:controller="com.vcampus.client.controller.BookListController"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:id="mainVBox"
      stylesheets="@../css/library.css"
      styleClass="main-container">

    <!-- çŽ°ä»£åŒ–é¡µé¢å¤´éƒ¨ -->
    <VBox alignment="CENTER" styleClass="header-container">
        <HBox alignment="CENTER" spacing="15">
            <!-- å›¾ä¹¦é¦†å›¾æ ‡ -->
            <Label text="ðŸ“š" style="-fx-font-size: 48px;"/>
            <VBox alignment="CENTER_LEFT">
                <Label text="VCampus æ™ºæ…§å›¾ä¹¦é¦†" styleClass="header-title" />
                <Label text="æŽ¢ç´¢çŸ¥è¯†çš„æµ·æ´‹ï¼Œå¼€å¯å­¦ä¹ çš„æ—…ç¨‹" styleClass="header-subtitle" />
            </VBox>
        </HBox>

        <!-- å¿«é€Ÿå¯¼èˆªæ  -->
        <HBox alignment="CENTER" spacing="30" style="-fx-padding: 20 0 0 0;">
            <Button text="ðŸ“– å¿«é€Ÿå€Ÿé˜…" styleClass="btn-primary"
                    onAction="#handleQuickBorrow" />
            <Button text="ðŸ”„ æˆ‘çš„å€Ÿé˜…" styleClass="btn-secondary"
                    onAction="#switchToBorrowTab" />
            <Button text="ðŸŽ¯ çƒ­é—¨æ´»åŠ¨" styleClass="btn-secondary"
                    onAction="#switchToActivityTab" />
            <Button text="ðŸ” å­¦æœ¯æœç´¢" styleClass="btn-secondary"
                    onAction="#switchToLiteratureTab" />
        </HBox>
    </VBox>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <TabPane fx:id="libraryTabPane" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS" styleClass="tab-container">

        <!-- å›¾ä¹¦å€Ÿé˜… Tab -->
        <Tab text="ðŸ“– å›¾ä¹¦å€Ÿé˜…">
            <VBox spacing="25.0" styleClass="tab-content-vbox">
                <padding>
                    <Insets bottom="40.0" left="40.0" right="40.0" top="40.0" />
                </padding>

                <!-- å¢žå¼ºçš„æœç´¢åŒºåŸŸ -->
                <VBox spacing="15" styleClass="search-container">
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label text="ðŸ”" style="-fx-font-size: 20px;"/>
                        <Label text="æ™ºèƒ½æœç´¢" styleClass="section-title" style="-fx-font-size: 18px;"/>
                    </HBox>

                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <TextField fx:id="searchField" promptText="è¯·è¾“å…¥ä¹¦åã€ä½œè€…ã€ISBNæˆ–å…³é”®è¯è¿›è¡Œæœç´¢..."
                                   styleClass="search-input" HBox.hgrow="ALWAYS" />
                        <Button fx:id="searchButton" text="ðŸ” æœç´¢å›¾ä¹¦" styleClass="btn-primary" />
                        <Button fx:id="refreshButton" text="ðŸ”„ åˆ·æ–°åˆ—è¡¨" styleClass="btn-secondary" />
                        <Button text="ðŸ“Š é«˜çº§æœç´¢" styleClass="btn-secondary" onAction="#handleAdvancedSearch" />
                    </HBox>

                    <!-- çƒ­é—¨æœç´¢æ ‡ç­¾ -->
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Label text="çƒ­é—¨æœç´¢ï¼š" style="-fx-text-fill: #718096; -fx-font-size: 12px;"/>
                        <Button text="äººå·¥æ™ºèƒ½" styleClass="tag-button" onAction="#handleTagSearch"/>
                        <Button text="æ•°æ®ç»“æž„" styleClass="tag-button" onAction="#handleTagSearch"/>
                        <Button text="æœºå™¨å­¦ä¹ " styleClass="tag-button" onAction="#handleTagSearch"/>
                        <Button text="ç®—æ³•è®¾è®¡" styleClass="tag-button" onAction="#handleTagSearch"/>
                        <Button text="æ·±åº¦å­¦ä¹ " styleClass="tag-button" onAction="#handleTagSearch"/>
                    </HBox>
                </VBox>

                <!-- ç¾ŽåŒ–çš„ç»Ÿè®¡ä¿¡æ¯å¡ç‰‡ -->
                <VBox spacing="10">
                    <Label text="ðŸ“Š å›¾ä¹¦é¦†æ¦‚è§ˆ" styleClass="section-title"/>
                    <GridPane fx:id="statsGrid" hgap="20" vgap="20" styleClass="stats-grid">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="25.0" />
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="25.0" />
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="25.0" />
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="25.0" />
                        </columnConstraints>

                        <VBox styleClass="stat-card" GridPane.columnIndex="0">
                            <Label text="ðŸ“š" style="-fx-font-size: 24px;"/>
                            <Label fx:id="totalBooksLabel" styleClass="stat-number" text="0" />
                            <Label styleClass="stat-label" text="é¦†è—å›¾ä¹¦" />
                        </VBox>
                        <VBox styleClass="stat-card" GridPane.columnIndex="1">
                            <Label text="âœ…" style="-fx-font-size: 24px;"/>
                            <Label fx:id="availableBooksLabel" styleClass="stat-number" text="0" />
                            <Label styleClass="stat-label" text="å¯å€Ÿå›¾ä¹¦" />
                        </VBox>
                        <VBox styleClass="stat-card" GridPane.columnIndex="2">
                            <Label text="ðŸ“–" style="-fx-font-size: 24px;"/>
                            <Label fx:id="borrowedBooksLabel" styleClass="stat-number" text="0" />
                            <Label styleClass="stat-label" text="å·²å€Ÿå‡º" />
                        </VBox>
                        <VBox styleClass="stat-card" GridPane.columnIndex="3">
                            <Label text="ðŸ†•" style="-fx-font-size: 24px;"/>
                            <Label fx:id="newBooksLabel" styleClass="stat-number" text="0" />
                            <Label styleClass="stat-label" text="æœ¬æœˆæ–°å¢ž" />
                        </VBox>
                    </GridPane>
                </VBox>

                <!-- å¢žå¼ºçš„å›¾ä¹¦åˆ—è¡¨è¡¨æ ¼ -->
                <VBox spacing="10" VBox.vgrow="ALWAYS">
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label text="ðŸ“‹ å›¾ä¹¦åˆ—è¡¨" styleClass="section-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Label fx:id="resultCountLabel" text="å…± 0 æœ¬å›¾ä¹¦"
                               style="-fx-text-fill: #718096; -fx-font-size: 14px;"/>
                        <ComboBox fx:id="sortComboBox" promptText="æŽ’åºæ–¹å¼">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="é»˜è®¤æŽ’åº"/>
                                    <String fx:value="æŒ‰ä¹¦åæŽ’åº"/>
                                    <String fx:value="æŒ‰ä½œè€…æŽ’åº"/>
                                    <String fx:value="æŒ‰å‡ºç‰ˆç¤¾æŽ’åº"/>
                                    <String fx:value="æŒ‰åº“å­˜æŽ’åº"/>
                                </FXCollections>
                            </items>
                        </ComboBox>
                    </HBox>

                    <TableView fx:id="booksTableView" VBox.vgrow="ALWAYS" styleClass="custom-table-view">
                        <columns>
                            <TableColumn fx:id="bookIdCol" prefWidth="100.0" text="å›¾ä¹¦ç¼–å·" />
                            <TableColumn fx:id="titleCol" prefWidth="300.0" text="ä¹¦å" />
                            <TableColumn fx:id="authorCol" prefWidth="150.0" text="ä½œè€…" />
                            <TableColumn fx:id="publisherCol" prefWidth="150.0" text="å‡ºç‰ˆç¤¾" />
                            <TableColumn fx:id="statusCol" prefWidth="100.0" text="çŠ¶æ€" />
                            <TableColumn fx:id="stockCol" prefWidth="80.0" text="åº“å­˜" />
                            <TableColumn fx:id="actionCol" prefWidth="180.0" text="æ“ä½œ" />
                        </columns>
                    </TableView>
                </VBox>
            </VBox>
        </Tab>

        <!-- ä¸ªäººå€Ÿé˜… Tab -->
        <Tab text="ðŸ“‹ æˆ‘çš„å€Ÿé˜…">
            <VBox spacing="25" styleClass="tab-content-vbox">
                <padding>
                    <Insets bottom="40.0" left="40.0" right="40.0" top="40.0" />
                </padding>

                <HBox alignment="CENTER_LEFT" spacing="15">
                    <Label text="ðŸ‘¤" style="-fx-font-size: 24px;"/>
                    <Label styleClass="section-title" text="æˆ‘çš„å€Ÿé˜…è®°å½•" />
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button text="ðŸ“§ å€Ÿé˜…æé†’" styleClass="btn-secondary" onAction="#handleBorrowReminder"/>
                    <Button text="ðŸ“Š å€Ÿé˜…æŠ¥å‘Š" styleClass="btn-secondary" onAction="#handleBorrowReport"/>
                </HBox>

                <!-- å€Ÿé˜…ç»Ÿè®¡ä¿¡æ¯ -->
                <VBox spacing="10">
                    <Label text="ðŸ“ˆ å€Ÿé˜…ç»Ÿè®¡" styleClass="section-title"/>
                    <GridPane hgap="20" vgap="20" styleClass="stats-grid">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="25.0" />
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="25.0" />
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="25.0" />
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="25.0" />
                        </columnConstraints>

                        <VBox styleClass="stat-card" GridPane.columnIndex="0">
                            <Label text="ðŸ“–" style="-fx-font-size: 24px;"/>
                            <Label fx:id="currentBorrowLabel" styleClass="stat-number" text="0" />
                            <Label styleClass="stat-label" text="å½“å‰å€Ÿé˜…" />
                        </VBox>
                        <VBox styleClass="stat-card" GridPane.columnIndex="1">
                            <Label text="ðŸ“š" style="-fx-font-size: 24px;"/>
                            <Label fx:id="historyBorrowLabel" styleClass="stat-number" text="0" />
                            <Label styleClass="stat-label" text="åŽ†å²å€Ÿé˜…" />
                        </VBox>
                        <VBox styleClass="stat-card" GridPane.columnIndex="2">
                            <Label text="â°" style="-fx-font-size: 24px;"/>
                            <Label fx:id="expiringBooksLabel" styleClass="stat-number" text="0" />
                            <Label styleClass="stat-label" text="å³å°†åˆ°æœŸ" />
                        </VBox>
                        <VBox styleClass="stat-card" GridPane.columnIndex="3">
                            <Label text="âš ï¸" style="-fx-font-size: 24px;"/>
                            <Label fx:id="overdueBooksLabel" styleClass="stat-number" text="0" />
                            <Label styleClass="stat-label" text="é€¾æœŸå›¾ä¹¦" />
                        </VBox>
                    </GridPane>
                </VBox>

                <!-- å€Ÿé˜…è®°å½•è¡¨æ ¼ -->
                <VBox spacing="10" VBox.vgrow="ALWAYS">
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label text="ðŸ“‹ å€Ÿé˜…è®°å½•" styleClass="section-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <ComboBox fx:id="borrowFilterComboBox" promptText="ç­›é€‰çŠ¶æ€">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="å…¨éƒ¨è®°å½•"/>
                                    <String fx:value="å½“å‰å€Ÿé˜…"/>
                                    <String fx:value="å·²å½’è¿˜"/>
                                    <String fx:value="é€¾æœŸå›¾ä¹¦"/>
                                </FXCollections>
                            </items>
                        </ComboBox>
                    </HBox>

                    <TableView fx:id="borrowHistoryTable" VBox.vgrow="ALWAYS" styleClass="custom-table-view">
                        <columns>
                            <TableColumn fx:id="borrowIdCol" prefWidth="100.0" text="å€Ÿé˜…ç¼–å·" />
                            <TableColumn fx:id="borrowTitleCol" prefWidth="300.0" text="ä¹¦å" />
                            <TableColumn fx:id="borrowDateCol" prefWidth="150.0" text="å€Ÿé˜…æ—¥æœŸ" />
                            <TableColumn fx:id="returnDateCol" prefWidth="150.0" text="åº”è¿˜æ—¥æœŸ" />
                            <TableColumn fx:id="borrowStatusCol" prefWidth="100.0" text="çŠ¶æ€" />
                            <TableColumn fx:id="borrowActionCol" prefWidth="200.0" text="æ“ä½œ" />
                        </columns>
                    </TableView>
                </VBox>
            </VBox>
        </Tab>

        <!-- æ–‡çŒ®æŸ¥é˜… Tab -->
        <Tab text="ðŸ” æ–‡çŒ®æŸ¥é˜…">
            <VBox styleClass="tab-content-vbox">
                <padding>
                    <Insets bottom="40.0" left="40.0" right="40.0" top="40.0" />
                </padding>

                <!-- çŽ°ä»£åŒ–æ–‡çŒ®æŸ¥é˜…å¤´éƒ¨ -->
                <VBox spacing="20" styleClass="literature-header-container">
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸŽ“" style="-fx-font-size: 32px;"/>
                        <VBox spacing="5">
                            <Label styleClass="section-title" text="å­¦æœ¯èµ„æºåº“" />
                            <Label styleClass="section-subtitle" text="æŽ¢ç´¢å‰æ²¿å­¦æœ¯æ–‡çŒ®ï¼ŒåŠ©åŠ›æ‚¨çš„ç ”ç©¶ä¹‹è·¯" />
                        </VBox>
                        <Region HBox.hgrow="ALWAYS"/>
                        <VBox alignment="CENTER_RIGHT" spacing="5">
                            <Label text="æ•°æ®åº“è¦†ç›–" style="-fx-text-fill: rgba(255,255,255,0.9); -fx-font-size: 12px;"/>
                            <HBox spacing="10">
                                <Label text="CNKI" style="-fx-background-color: rgba(255,255,255,0.2); -fx-background-radius: 10; -fx-padding: 3 8; -fx-text-fill: white; -fx-font-size: 11px;"/>
                                <Label text="Web of Science" style="-fx-background-color: rgba(255,255,255,0.2); -fx-background-radius: 10; -fx-padding: 3 8; -fx-text-fill: white; -fx-font-size: 11px;"/>
                                <Label text="IEEE" style="-fx-background-color: rgba(255,255,255,0.2); -fx-background-radius: 10; -fx-padding: 3 8; -fx-text-fill: white; -fx-font-size: 11px;"/>
                            </HBox>
                        </VBox>
                    </HBox>

                    <!-- é«˜çº§æœç´¢æ  -->
                    <VBox spacing="15">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <TextField fx:id="literatureSearchField" promptText="è¯·è¾“å…¥æ–‡çŒ®æ ‡é¢˜ã€ä½œè€…ã€å…³é”®è¯..."
                                       styleClass="search-input" prefWidth="500" HBox.hgrow="ALWAYS" />
                            <Button fx:id="literatureSearchButton" text="ðŸ” æœç´¢æ–‡çŒ®" styleClass="btn-primary" />
                            <Button text="ðŸŽ¯ é«˜çº§æ£€ç´¢" styleClass="btn-secondary" onAction="#handleAdvancedLiteratureSearch"/>
                        </HBox>

                        <!-- æœç´¢è¿‡æ»¤å™¨ -->
                        <HBox spacing="15" alignment="CENTER_LEFT">
                            <Label text="ç­›é€‰ï¼š" style="-fx-text-fill: rgba(255,255,255,0.9); -fx-font-size: 14px;"/>
                            <ComboBox fx:id="categoryComboBox" promptText="å­¦ç§‘åˆ†ç±»" styleClass="filter-combo">
                                <items>
                                    <FXCollections fx:factory="observableArrayList">
                                        <String fx:value="å…¨éƒ¨åˆ†ç±»"/>
                                        <String fx:value="äººå·¥æ™ºèƒ½"/>
                                        <String fx:value="ç”Ÿç‰©åŒ»å­¦"/>
                                        <String fx:value="çŽ¯å¢ƒç§‘å­¦"/>
                                        <String fx:value="ææ–™ç§‘å­¦"/>
                                        <String fx:value="ç»æµŽå­¦"/>
                                        <String fx:value="å¿ƒç†å­¦"/>
                                        <String fx:value="ç‰©ç†å­¦"/>
                                        <String fx:value="æ•™è‚²å­¦"/>
                                    </FXCollections>
                                </items>
                            </ComboBox>
                            <ComboBox fx:id="yearComboBox" promptText="å‘è¡¨å¹´ä»½" styleClass="filter-combo">
                                <items>
                                    <FXCollections fx:factory="observableArrayList">
                                        <String fx:value="å…¨éƒ¨å¹´ä»½"/>
                                        <String fx:value="2024å¹´"/>
                                        <String fx:value="2023å¹´"/>
                                        <String fx:value="2022å¹´"/>
                                        <String fx:value="2021å¹´"/>
                                        <String fx:value="2020å¹´åŠä»¥å‰"/>
                                    </FXCollections>
                                </items>
                            </ComboBox>
                            <ComboBox fx:id="sortLiteratureComboBox" promptText="æŽ’åºæ–¹å¼" styleClass="filter-combo">
                                <items>
                                    <FXCollections fx:factory="observableArrayList">
                                        <String fx:value="ç›¸å…³åº¦æŽ’åº"/>
                                        <String fx:value="å‘è¡¨æ—¶é—´"/>
                                        <String fx:value="è¢«å¼•æ¬¡æ•°"/>
                                        <String fx:value="ä¸‹è½½æ¬¡æ•°"/>
                                    </FXCollections>
                                </items>
                            </ComboBox>
                        </HBox>
                    </VBox>
                </VBox>

                <!-- æ–‡çŒ®åˆ—è¡¨ -->
                <VBox spacing="15" VBox.vgrow="ALWAYS">
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label text="ðŸ“‘ æ£€ç´¢ç»“æžœ" styleClass="section-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Label fx:id="literatureCountLabel" text="å…± 0 ç¯‡æ–‡çŒ®"
                               style="-fx-text-fill: #718096; -fx-font-size: 14px;"/>
                        <Button text="ðŸ“¥ æ‰¹é‡ä¸‹è½½" styleClass="btn-secondary" onAction="#handleBatchDownload"/>
                        <Button text="ðŸ“Š å¼•æ–‡åˆ†æž" styleClass="btn-secondary" onAction="#handleCitationAnalysis"/>
                    </HBox>

                    <TableView fx:id="literatureTableView" VBox.vgrow="ALWAYS" styleClass="custom-table-view">
                        <columns>
                            <TableColumn fx:id="literatureTitleCol" prefWidth="350.0" text="æ ‡é¢˜" />
                            <TableColumn fx:id="literatureAuthorCol" prefWidth="150.0" text="ä½œè€…" />
                            <TableColumn fx:id="literatureSourceCol" prefWidth="150.0" text="æ¥æº" />
                            <TableColumn fx:id="literaturePublishDateCol" prefWidth="120.0" text="å‘å¸ƒæ—¥æœŸ" />
                            <TableColumn fx:id="literatureCitationCol" prefWidth="80.0" text="è¢«å¼•" />
                            <TableColumn fx:id="literatureDownloadCol" prefWidth="80.0" text="ä¸‹è½½" />
                            <TableColumn fx:id="literatureActionCol" prefWidth="220.0" text="æ“ä½œ" />
                        </columns>
                    </TableView>
                </VBox>
            </VBox>
        </Tab>

        <!-- å›¾ä¹¦é¦†æ´»åŠ¨ Tab -->
        <Tab text="ðŸŽ¯ å›¾ä¹¦é¦†æ´»åŠ¨">
            <HBox spacing="30.0" styleClass="tab-content-hbox">
                <padding>
                    <Insets bottom="40.0" left="40.0" right="40.0" top="40.0" />
                </padding>

                <!-- å·¦ä¾§æ´»åŠ¨åˆ—è¡¨ -->
                <VBox spacing="20" HBox.hgrow="SOMETIMES" styleClass="activity-sidebar" maxWidth="350" minWidth="320">
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label text="ðŸŽ¯" style="-fx-font-size: 24px;"/>
                        <Label styleClass="section-title" text="ç²¾å½©æ´»åŠ¨" />
                    </HBox>

                    <!-- æ´»åŠ¨ç­›é€‰ -->
                    <HBox spacing="10">
                        <ComboBox fx:id="activityFilterComboBox" promptText="æ´»åŠ¨ç±»åž‹" HBox.hgrow="ALWAYS">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="å…¨éƒ¨æ´»åŠ¨"/>
                                    <String fx:value="å­¦æœ¯è®²åº§"/>
                                    <String fx:value="æŠ€èƒ½åŸ¹è®­"/>
                                    <String fx:value="è¯»ä¹¦æ´»åŠ¨"/>
                                    <String fx:value="å›¾ä¹¦å±•è§ˆ"/>
                                    <String fx:value="çŸ¥è¯†ç«žèµ›"/>
                                </FXCollections>
                            </items>
                        </ComboBox>
                        <Button text="ðŸ”„" styleClass="btn-secondary" onAction="#refreshActivities"/>
                    </HBox>

                    <ListView fx:id="activityListView" VBox.vgrow="ALWAYS" styleClass="activity-list-view" />

                    <!-- æ´»åŠ¨ç»Ÿè®¡ -->
                    <VBox spacing="10" styleClass="activity-stats">
                        <Label text="ðŸ“Š æ´»åŠ¨ç»Ÿè®¡" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #4a5568;"/>
                        <HBox spacing="15" alignment="CENTER_LEFT">
                            <VBox alignment="CENTER" spacing="2">
                                <Label text="5" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #667eea;"/>
                                <Label text="è¿›è¡Œä¸­" style="-fx-font-size: 11px; -fx-text-fill: #718096;"/>
                            </VBox>
                            <VBox alignment="CENTER" spacing="2">
                                <Label text="156" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #48bb78;"/>
                                <Label text="å·²æŠ¥å" style="-fx-font-size: 11px; -fx-text-fill: #718096;"/>
                            </VBox>
                            <VBox alignment="CENTER" spacing="2">
                                <Label text="12" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #ed8936;"/>
                                <Label text="æœ¬æœˆæ–°å¢ž" style="-fx-font-size: 11px; -fx-text-fill: #718096;"/>
                            </VBox>
                        </HBox>
                    </VBox>
                </VBox>

                <!-- å³ä¾§æ´»åŠ¨è¯¦æƒ… -->
                <VBox spacing="25" HBox.hgrow="ALWAYS" styleClass="activity-detail-container">
                    <!-- æ´»åŠ¨æ ‡é¢˜å’ŒçŠ¶æ€ -->
                    <VBox spacing="15">
                        <HBox alignment="CENTER_LEFT" spacing="15">
                            <Label fx:id="activityTitleLabel" styleClass="activity-detail-title"
                                   text="è¯·ä»Žå·¦ä¾§é€‰æ‹©ä¸€ä¸ªæ´»åŠ¨æŸ¥çœ‹è¯¦æƒ…" wrapText="true" HBox.hgrow="ALWAYS"/>
                            <Label fx:id="activityStatusBadge" text="æŠ¥åä¸­"
                                   style="-fx-background-color: #48bb78; -fx-text-fill: white; -fx-background-radius: 12; -fx-padding: 5 12; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                        </HBox>

                        <!-- æ´»åŠ¨ç®€ä»‹ -->
                        <Label fx:id="activityDescriptionLabel" wrapText="true"
                               style="-fx-text-fill: #718096; -fx-font-size: 14px; -fx-font-style: italic;"/>
                    </VBox>

                    <!-- æ´»åŠ¨åŸºæœ¬ä¿¡æ¯ -->
                    <VBox spacing="15" styleClass="activity-meta-container">
                        <Label text="ðŸ“‹ æ´»åŠ¨ä¿¡æ¯" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #4a5568;"/>

                        <GridPane hgap="20" vgap="12">
                            <columnConstraints>
                                <ColumnConstraints hgrow="SOMETIMES" percentWidth="50.0" />
                                <ColumnConstraints hgrow="SOMETIMES" percentWidth="50.0" />
                            </columnConstraints>

                            <HBox alignment="CENTER_LEFT" spacing="10" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="ðŸ“…" styleClass="icon-label" />
                                <Label fx:id="activityDateLabel" styleClass="activity-meta-label" text="æ´»åŠ¨æ—¶é—´" />
                            </HBox>
                            <HBox alignment="CENTER_LEFT" spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="ðŸ“" styleClass="icon-label" />
                                <Label fx:id="activityLocationLabel" styleClass="activity-meta-label" text="æ´»åŠ¨åœ°ç‚¹" />
                            </HBox>
                            <HBox alignment="CENTER_LEFT" spacing="10" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Label text="ðŸ‘¤" styleClass="icon-label" />
                                <Label fx:id="activityOrganizerLabel" styleClass="activity-meta-label" text="ä¸»åŠžæ–¹" />
                            </HBox>
                            <HBox alignment="CENTER_LEFT" spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Label text="ðŸŽ¤" styleClass="icon-label" />
                                <Label fx:id="activitySpeakerLabel" styleClass="activity-meta-label" text="ä¸»è®²äºº" />
                            </HBox>
                            <HBox alignment="CENTER_LEFT" spacing="10" GridPane.columnIndex="0" GridPane.rowIndex="2">
                                <Label text="ðŸ‘¥" styleClass="icon-label" />
                                <Label fx:id="activityParticipantsLabel" styleClass="activity-meta-label" text="å‚ä¸Žäººæ•°" />
                            </HBox>
                            <HBox alignment="CENTER_LEFT" spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="2">
                                <Label text="ðŸ·ï¸" styleClass="icon-label" />
                                <Label fx:id="activityCategoryLabel" styleClass="activity-meta-label" text="æ´»åŠ¨ç±»åˆ«" />
                            </HBox>
                        </GridPane>
                    </VBox>

                    <!-- æ´»åŠ¨è¯¦ç»†å†…å®¹ -->
                    <VBox spacing="10" VBox.vgrow="ALWAYS">
                        <Label text="ðŸ“– æ´»åŠ¨è¯¦æƒ…" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #4a5568;"/>
                        <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" styleClass="activity-scroll-pane">
                            <VBox spacing="15">
                                <Text fx:id="activityContentText" styleClass="activity-content"
                                      wrappingWidth="550" text="æ´»åŠ¨è¯¦ç»†å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º..." />
                            </VBox>
                        </ScrollPane>
                    </VBox>

                    <!-- æ“ä½œæŒ‰é’®åŒºåŸŸ -->
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Button fx:id="activityRegisterButton" text="ðŸŽ‰ ç«‹å³æŠ¥å" styleClass="btn-primary" />
                        <Button text="ðŸ“¤ åˆ†äº«æ´»åŠ¨" styleClass="btn-secondary" onAction="#handleShareActivity"/>
                        <Button text="ðŸ“… æ·»åŠ æ—¥åŽ†" styleClass="btn-secondary" onAction="#handleAddToCalendar"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Label text="ðŸ’¡ æç¤ºï¼šæ´»åŠ¨å¼€å§‹å‰1å¤©å°†å‘é€æé†’é€šçŸ¥"
                               style="-fx-text-fill: #718096; -fx-font-size: 12px; -fx-font-style: italic;"/>
                    </HBox>
                </VBox>
            </HBox>
        </Tab>

    </TabPane>
</VBox>