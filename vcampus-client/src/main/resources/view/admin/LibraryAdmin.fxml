<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.vcampus.client.controller.admin.LibraryAdminController"
            prefHeight="900.0" prefWidth="1400.0"
            style="-fx-background-color: linear-gradient(to bottom, #e3f2fd, #bbdefb);">

    <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
    <top>
        <VBox>
            <!-- ä¸»æ ‡é¢˜æ  -->
            <HBox alignment="CENTER_LEFT" spacing="30" style="-fx-background-color: rgba(255,255,255,0.8); -fx-padding: 8 40;">
                <Label text="ðŸ“š æ™ºèƒ½å›¾ä¹¦é¦†ç®¡ç†ç³»ç»Ÿ"
                       style="-fx-text-fill: black; -fx-font-size: 20px; -fx-font-weight: bold;"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="currentTimeLabel" text="2024-01-01 00:00:00"
                       style="-fx-text-fill: black; -fx-font-size: 14px; -fx-font-weight: 500;"/>
                <Button fx:id="syncAllButton" text="ðŸ”„ åŒæ­¥æ•°æ®"
                        style="-fx-background-color: #2196f3; -fx-text-fill: white; -fx-font-size: 12px; -fx-font-weight: bold; -fx-background-radius: 15; -fx-padding: 6 15;"/>
            </HBox>

            <!-- å¿«é€Ÿç»Ÿè®¡æ¨ªæ¡ -->
            <HBox spacing="40" alignment="CENTER" style="-fx-background-color: rgba(255,255,255,0.6); -fx-padding: 12 40;">
                <VBox alignment="CENTER" spacing="5" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 15; -fx-min-width: 140; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);">
                    <Label text="ðŸ“š" style="-fx-text-fill: #2196f3; -fx-font-size: 24px;"/>
                    <Label fx:id="totalBooksQuickLabel" text="150"
                           style="-fx-text-fill: black; -fx-font-size: 20px; -fx-font-weight: bold;"/>
                    <Label text="æ€»å›¾ä¹¦æ•°é‡" style="-fx-text-fill: black; -fx-font-size: 12px; -fx-font-weight: 600;"/>
                </VBox>

                <VBox alignment="CENTER" spacing="5" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 15; -fx-min-width: 140; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);">
                    <Label text="ðŸ“–" style="-fx-text-fill: #4caf50; -fx-font-size: 24px;"/>
                    <Label fx:id="activeBorrowsQuickLabel" text="23"
                           style="-fx-text-fill: black; -fx-font-size: 20px; -fx-font-weight: bold;"/>
                    <Label text="å½“å‰å€Ÿé˜…" style="-fx-text-fill: black; -fx-font-size: 12px; -fx-font-weight: 600;"/>
                </VBox>

                <VBox alignment="CENTER" spacing="5" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 15; -fx-min-width: 140; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);">
                    <Label text="ðŸ‘¥" style="-fx-text-fill: #ff9800; -fx-font-size: 24px;"/>
                    <Label fx:id="activeUsersQuickLabel" text="45"
                           style="-fx-text-fill: black; -fx-font-size: 20px; -fx-font-weight: bold;"/>
                    <Label text="æ´»è·ƒç”¨æˆ·" style="-fx-text-fill: black; -fx-font-size: 12px; -fx-font-weight: 600;"/>
                </VBox>

                <VBox alignment="CENTER" spacing="5" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 15; -fx-min-width: 140; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2); -fx-border-color: #f44336; -fx-border-radius: 15; -fx-border-width: 2;">
                    <Label text="âš ï¸" style="-fx-text-fill: #f44336; -fx-font-size: 24px;"/>
                    <Label fx:id="overdueQuickLabel" text="2"
                           style="-fx-text-fill: black; -fx-font-size: 20px; -fx-font-weight: bold;"/>
                    <Label text="é€¾æœŸå›¾ä¹¦" style="-fx-text-fill: black; -fx-font-size: 12px; -fx-font-weight: 600;"/>
                </VBox>
            </HBox>
        </VBox>
    </top>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <center>
        <TabPane fx:id="mainTabPane" tabClosingPolicy="UNAVAILABLE"
                 style="-fx-background-color: white; -fx-tab-min-height: 45px;">

            <!-- ä»ªè¡¨ç›˜æ ‡ç­¾é¡µ -->
            <Tab text="ðŸ  æ•°æ®ä»ªè¡¨ç›˜" style="-fx-font-size: 14px; -fx-font-weight: bold;">
                <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;">
                    <VBox spacing="30" style="-fx-padding: 30; -fx-background-color: #f5f5f5;">

                        <!-- æ ¸å¿ƒæ•°æ®å±•ç¤ºå¡ç‰‡ -->
                        <GridPane hgap="25" vgap="25">
                            <columnConstraints>
                                <ColumnConstraints hgrow="SOMETIMES" percentWidth="25.0"/>
                                <ColumnConstraints hgrow="SOMETIMES" percentWidth="25.0"/>
                                <ColumnConstraints hgrow="SOMETIMES" percentWidth="25.0"/>
                                <ColumnConstraints hgrow="SOMETIMES" percentWidth="25.0"/>
                            </columnConstraints>

                            <!-- å›¾ä¹¦æ€»æ•°å¡ç‰‡ -->
                            <VBox GridPane.columnIndex="0" spacing="12" alignment="CENTER"
                                  style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
                                <Label text="ðŸ“š" style="-fx-font-size: 40px;"/>
                                <Label fx:id="dashboardTotalBooksLabel" text="150"
                                       style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: black;"/>
                                <Label text="å›¾ä¹¦æ€»æ•°" style="-fx-font-size: 16px; -fx-text-fill: black; -fx-font-weight: 600;"/>
                                <Label fx:id="booksChangeLabel" text="è¾ƒæ˜¨æ—¥ +5"
                                       style="-fx-font-size: 12px; -fx-text-fill: #4caf50; -fx-font-weight: bold; -fx-background-color: #e8f5e8; -fx-background-radius: 10; -fx-padding: 4 8;"/>
                            </VBox>

                            <!-- å½“å‰å€Ÿé˜…å¡ç‰‡ -->
                            <VBox GridPane.columnIndex="1" spacing="12" alignment="CENTER"
                                  style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
                                <Label text="ðŸ“–" style="-fx-font-size: 40px;"/>
                                <Label fx:id="dashboardActiveBorrowsLabel" text="23"
                                       style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: black;"/>
                                <Label text="å½“å‰å€Ÿé˜…" style="-fx-font-size: 16px; -fx-text-fill: black; -fx-font-weight: 600;"/>
                                <Label fx:id="borrowsChangeLabel" text="è¾ƒæ˜¨æ—¥ +3"
                                       style="-fx-font-size: 12px; -fx-text-fill: #4caf50; -fx-font-weight: bold; -fx-background-color: #e8f5e8; -fx-background-radius: 10; -fx-padding: 4 8;"/>
                            </VBox>

                            <!-- æ´»è·ƒç”¨æˆ·å¡ç‰‡ -->
                            <VBox GridPane.columnIndex="2" spacing="12" alignment="CENTER"
                                  style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
                                <Label text="ðŸ‘¥" style="-fx-font-size: 40px;"/>
                                <Label fx:id="dashboardActiveUsersLabel" text="45"
                                       style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: black;"/>
                                <Label text="æ´»è·ƒç”¨æˆ·" style="-fx-font-size: 16px; -fx-text-fill: black; -fx-font-weight: 600;"/>
                                <Label fx:id="usersChangeLabel" text="è¾ƒæ˜¨æ—¥ +8"
                                       style="-fx-font-size: 12px; -fx-text-fill: #4caf50; -fx-font-weight: bold; -fx-background-color: #e8f5e8; -fx-background-radius: 10; -fx-padding: 4 8;"/>
                            </VBox>

                            <!-- ç³»ç»Ÿè­¦å‘Šå¡ç‰‡ -->
                            <VBox GridPane.columnIndex="3" spacing="12" alignment="CENTER"
                                  style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3); -fx-border-color: #f44336; -fx-border-radius: 15; -fx-border-width: 2;">
                                <Label text="ðŸš¨" style="-fx-font-size: 40px;"/>
                                <Label fx:id="dashboardAlertsLabel" text="2"
                                       style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: black;"/>
                                <Label text="ç³»ç»Ÿè­¦å‘Š" style="-fx-font-size: 16px; -fx-text-fill: black; -fx-font-weight: 600;"/>
                                <Label fx:id="alertsChangeLabel" text="éœ€è¦å¤„ç†"
                                       style="-fx-font-size: 12px; -fx-text-fill: #f44336; -fx-font-weight: bold; -fx-background-color: #ffebee; -fx-background-radius: 10; -fx-padding: 4 8;"/>
                            </VBox>
                        </GridPane>

                        <!-- è¯¦ç»†ä¿¡æ¯é¢æ¿ -->
                        <HBox spacing="30" VBox.vgrow="ALWAYS">
                            <!-- å®žæ—¶æ´»åŠ¨é¢æ¿ -->
                            <VBox spacing="20" HBox.hgrow="ALWAYS"
                                  style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="ðŸ”„" style="-fx-font-size: 24px;"/>
                                    <Label text="å®žæ—¶æ´»åŠ¨ç›‘æŽ§" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: black;"/>
                                    <Region HBox.hgrow="ALWAYS"/>
                                    <Button text="æŸ¥çœ‹æ›´å¤š" style="-fx-background-color: transparent; -fx-text-fill: #2196f3; -fx-font-size: 12px; -fx-font-weight: bold; -fx-underline: true;"/>
                                </HBox>
                                <ListView fx:id="recentActivitiesListView" prefHeight="250"
                                          style="-fx-background-color: #f8f9fa; -fx-background-radius: 10; -fx-border-color: #e9ecef; -fx-border-radius: 10; -fx-border-width: 1; -fx-font-size: 13px;"/>
                            </VBox>

                            <!-- ç³»ç»Ÿé€šçŸ¥é¢æ¿ -->
                            <VBox spacing="20" HBox.hgrow="ALWAYS"
                                  style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="ðŸ””" style="-fx-font-size: 24px;"/>
                                    <Label text="ç³»ç»Ÿé€šçŸ¥ä¸­å¿ƒ" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: black;"/>
                                    <Region HBox.hgrow="ALWAYS"/>
                                    <Button text="å…¨éƒ¨å·²è¯»" style="-fx-background-color: transparent; -fx-text-fill: #2196f3; -fx-font-size: 12px; -fx-font-weight: bold; -fx-underline: true;"/>
                                </HBox>
                                <ListView fx:id="systemNotificationsListView" prefHeight="250"
                                          style="-fx-background-color: #f8f9fa; -fx-background-radius: 10; -fx-border-color: #e9ecef; -fx-border-radius: 10; -fx-border-width: 1; -fx-font-size: 13px;"/>
                            </VBox>
                        </HBox>
                    </VBox>
                </ScrollPane>
            </Tab>

            <!-- å›¾ä¹¦ç®¡ç†æ ‡ç­¾é¡µ -->
            <Tab text="ðŸ“š å›¾ä¹¦ç®¡ç†ä¸­å¿ƒ" style="-fx-font-size: 14px; -fx-font-weight: bold;">
                <ScrollPane fitToWidth="true" fitToHeight="true" style="-fx-background-color: transparent;">
                    <fx:include source="BookManagement.fxml"/>
                </ScrollPane>
            </Tab>

            <!-- å€Ÿé˜…ç®¡ç†æ ‡ç­¾é¡µ -->
            <Tab text="ðŸ“‹ å€Ÿé˜…ç®¡ç†ä¸­å¿ƒ" style="-fx-font-size: 14px; -fx-font-weight: bold;">
                <ScrollPane fitToWidth="true" fitToHeight="true" style="-fx-background-color: transparent;">
                    <fx:include source="BorrowManagement.fxml"/>
                </ScrollPane>
            </Tab>
        </TabPane>
    </center>

    <!-- åº•éƒ¨çŠ¶æ€æ  -->
    <bottom>
        <HBox alignment="CENTER_LEFT" spacing="25"
              style="-fx-background-color: #f0f0f0; -fx-padding: 12 30; -fx-border-color: #e0e0e0; -fx-border-width: 1 0 0 0;">

            <Label text="çŠ¶æ€:" style="-fx-text-fill: black; -fx-font-size: 13px; -fx-font-weight: 600;"/>
            <Label fx:id="systemStatusLabel" text="ç³»ç»Ÿæ­£å¸¸è¿è¡Œ"
                   style="-fx-text-fill: black; -fx-font-size: 13px; -fx-font-weight: bold;"/>

            <Region HBox.hgrow="ALWAYS"/>

            <Label text="ç‰ˆæœ¬:" style="-fx-text-fill: black; -fx-font-size: 13px; -fx-font-weight: 600;"/>
            <Label text="v2.0.1" style="-fx-text-fill: black; -fx-font-size: 13px; -fx-font-weight: bold;"/>

            <Label text="åœ¨çº¿ç”¨æˆ·:" style="-fx-text-fill: black; -fx-font-size: 13px; -fx-font-weight: 600;"/>
            <Label fx:id="onlineUsersLabel" text="1"
                   style="-fx-text-fill: black; -fx-font-size: 13px; -fx-font-weight: bold;"/>

            <Label text="ç³»ç»Ÿè´Ÿè½½:" style="-fx-text-fill: black; -fx-font-size: 13px; -fx-font-weight: 600;"/>
            <ProgressBar fx:id="systemLoadBar" progress="0.3" prefWidth="100"
                         style="-fx-accent: #2196f3;"/>
        </HBox>
    </bottom>
</BorderPane>