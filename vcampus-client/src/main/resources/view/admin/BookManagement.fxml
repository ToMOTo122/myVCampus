<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox fx:controller="com.vcampus.client.controller.admin.BookManagementController"
      xmlns:fx="http://javafx.com/fxml/1"
      spacing="25"
      stylesheets="@../../css/library-admin.css"
      style="-fx-background-color: #f5f5f5;">

    <padding>
        <Insets top="30" right="30" bottom="30" left="30"/>
    </padding>

    <!-- é¡µé¢æ ‡é¢˜ -->
    <HBox alignment="CENTER_LEFT" styleClass="page-header">
        <Label text="ðŸ“š å›¾ä¹¦åº“å­˜ç®¡ç†" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: black;"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Button text="ðŸ”„ åˆ·æ–°æ•°æ®" fx:id="refreshButton" style="-fx-background-color: #2196f3; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-padding: 10 20;"/>
    </HBox>

    <!-- åˆ†å‰²å¸ƒå±€ -->
    <HBox spacing="30" VBox.vgrow="ALWAYS">

        <!-- å·¦ä¾§ï¼šå›¾ä¹¦è¡¨æ ¼ -->
        <VBox spacing="20" HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0, 0, 2);">

            <!-- æœç´¢æ  -->
            <HBox spacing="15" alignment="CENTER_LEFT">
                <Label text="ðŸ”" style="-fx-font-size: 18px;"/>
                <TextField fx:id="searchField" promptText="æœç´¢å›¾ä¹¦IDã€ä¹¦åã€ä½œè€…..."
                           HBox.hgrow="ALWAYS" style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 8 12; -fx-font-size: 14px;"/>
                <Button text="æœç´¢" fx:id="searchButton" style="-fx-background-color: #2196f3; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 8 16;"/>
                <Button text="æ¸…ç©º" fx:id="clearSearchButton" style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 8 16;"/>
            </HBox>

            <!-- å›¾ä¹¦è¡¨æ ¼ -->
            <TableView fx:id="booksTableView" VBox.vgrow="ALWAYS" style="-fx-background-color: transparent;">
                <columns>
                    <TableColumn fx:id="bookIdCol" text="å›¾ä¹¦ID" prefWidth="120" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                    <TableColumn fx:id="titleCol" text="ä¹¦å" prefWidth="220" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                    <TableColumn fx:id="authorCol" text="ä½œè€…" prefWidth="150" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                    <TableColumn fx:id="publisherCol" text="å‡ºç‰ˆç¤¾" prefWidth="150" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                    <TableColumn fx:id="statusCol" text="çŠ¶æ€" prefWidth="100" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                    <TableColumn fx:id="stockCol" text="åº“å­˜" prefWidth="80" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                </columns>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>
            </TableView>

            <!-- è¡¨æ ¼åº•éƒ¨ç»Ÿè®¡ä¿¡æ¯ -->
            <HBox spacing="30" alignment="CENTER_LEFT" style="-fx-background-color: #f8f9fa; -fx-background-radius: 6; -fx-padding: 12 16;">
                <Label text="ðŸ“Š ç»Ÿè®¡ä¿¡æ¯" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: black;"/>
                <Label fx:id="totalBooksLabel" text="æ€»è®¡: 0 æœ¬" style="-fx-font-size: 13px; -fx-text-fill: black;"/>
                <Label fx:id="availableBooksLabel" text="å¯å€Ÿ: 0 æœ¬" style="-fx-font-size: 13px; -fx-text-fill: black;"/>
                <Label fx:id="unavailableBooksLabel" text="ä¸å¯å€Ÿ: 0 æœ¬" style="-fx-font-size: 13px; -fx-text-fill: black;"/>
            </HBox>
        </VBox>

        <!-- å³ä¾§ï¼šæ“ä½œé¢æ¿ -->
        <VBox spacing="25" minWidth="380" maxWidth="380" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0, 0, 2);">

            <!-- å›¾ä¹¦ä¿¡æ¯è¡¨å• -->
            <VBox spacing="20">
                <Label text="ðŸ“ å›¾ä¹¦ä¿¡æ¯ç¼–è¾‘" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: black;"/>

                <GridPane hgap="15" vgap="15">
                    <columnConstraints>
                        <ColumnConstraints hgrow="NEVER" minWidth="80"/>
                        <ColumnConstraints hgrow="ALWAYS"/>
                    </columnConstraints>

                    <Label text="å›¾ä¹¦ID*" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: black;" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <TextField fx:id="bookIdField" promptText="å”¯ä¸€æ ‡è¯†ç¬¦" style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 4; -fx-background-radius: 4; -fx-padding: 8 12; -fx-font-size: 13px;"
                               GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <Label text="ä¹¦å*" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: black;" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <TextField fx:id="titleField" promptText="å›¾ä¹¦æ ‡é¢˜" style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 4; -fx-background-radius: 4; -fx-padding: 8 12; -fx-font-size: 13px;"
                               GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <Label text="ä½œè€…*" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: black;" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <TextField fx:id="authorField" promptText="ä½œè€…å§“å" style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 4; -fx-background-radius: 4; -fx-padding: 8 12; -fx-font-size: 13px;"
                               GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                    <Label text="å‡ºç‰ˆç¤¾" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: black;" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                    <TextField fx:id="publisherField" promptText="å‡ºç‰ˆç¤¾åç§°" style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 4; -fx-background-radius: 4; -fx-padding: 8 12; -fx-font-size: 13px;"
                               GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                    <Label text="çŠ¶æ€" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: black;" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                    <ComboBox fx:id="statusComboBox" style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 4; -fx-background-radius: 4; -fx-font-size: 13px;"
                              GridPane.columnIndex="1" GridPane.rowIndex="4" maxWidth="Infinity"/>

                    <Label text="åº“å­˜*" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: black;" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                    <Spinner fx:id="stockSpinner" min="0" max="9999" initialValue="1" style="-fx-font-size: 13px;"
                             GridPane.columnIndex="1" GridPane.rowIndex="5" maxWidth="Infinity"/>
                </GridPane>

                <!-- æ“ä½œæŒ‰é’®ç»„ -->
                <VBox spacing="12">
                    <HBox spacing="12" alignment="CENTER">
                        <Button fx:id="addButton" text="âž• æ–°å¢žå›¾ä¹¦" style="-fx-background-color: #28a745; -fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 10 15;"
                                HBox.hgrow="ALWAYS" maxWidth="Infinity"/>
                        <Button fx:id="updateButton" text="âœï¸ æ›´æ–°ä¿¡æ¯" style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 10 15;"
                                HBox.hgrow="ALWAYS" maxWidth="Infinity"/>
                    </HBox>
                    <HBox spacing="12" alignment="CENTER">
                        <Button fx:id="deleteButton" text="ðŸ—‘ï¸ åˆ é™¤å›¾ä¹¦" style="-fx-background-color: #dc3545; -fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 10 15;"
                                HBox.hgrow="ALWAYS" maxWidth="Infinity"/>
                        <Button fx:id="clearButton" text="ðŸ§¹ æ¸…ç©ºè¡¨å•" style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 10 15;"
                                HBox.hgrow="ALWAYS" maxWidth="Infinity"/>
                    </HBox>
                </VBox>
            </VBox>
        </VBox>
    </HBox>
</VBox>